{% extends "base.html" %}
{% block content %}

<div id="signupformwrap">
	<div class="formfloatleft">
		<h2>Shifts</h2>
		<div class="tablewrap">
			<table class="gradienttable">	
				<thead>
					<tr>
						<th><p>Day</p></th>
						<th><p>Meal</p></th>
						<th><p>Shift</p></th>
						<th><p>Camper</p></th>
						<th><p>Camper</p></th>
					</tr>
				</thead>

					<div class="datatables" id="shiftsTaken">
						{% for shift in sundayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Sunday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							 {% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						    	</td>
							</tr>
						{% endfor %}
						{% for shifts in mondayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Monday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}
						{% for shifts in tuesdayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Tuesday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}
						{% for shifts in wednesdayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Wednesday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}
						{% for shifts in thursdayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Thursday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}
						{% for shifts in fridayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Friday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}	
						{% for shifts in saturdayShiftsTaken %}
							<tr class="datarow hideTable">
								<td>Thursday</td>
								<td>{{shifts.meal}}</td>
								<td>{{shifts.shift}}</td>
								<td>{{shifts.camper}}</td>
							</tr>
							{% if user.username == shift.camper|stringformat:"s" %}
						        <form action="/remove-self-from-shift/" method="post">
						            {% csrf_token %}
						            <input type="hidden" name="shift_id" value="{{shift.id}}" />
						            <input type="submit" value="remove me">
						        </form>
						    {% endif %}
						{% endfor %}				
					</div>

					<div class="showTable datatables" id="shiftsAvailable">
						{% for shift in sundayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Sunday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}
						{% for shift in mondayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Monday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}

						{% for shift in tuesdayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Tuesday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}

						{% for shift in wednesdayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Wednesday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}

						{% for shift in thursdayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Thursday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}

						{% for shift in fridayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Friday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}
					
						{% for shift in saturdayShiftsAvail %}
							<tr class="datarow showTable">
								<td>Saturday</td>
								<td>{{shift.meal}}</td>
								<td>{{shift.shift}}</td>
								<td>{{shift.camper}}</td>
								<td>
							   		{% if not shift.camper %}
								        <form method="post" action="/signup/">
								            {% csrf_token %}
								            <input type="hidden" name="shift_id" value="{{shift.id}}">
								            <input type="submit" value="sign up">
								        </form>
								    {% endif %}
								 </td>
							</tr>
						{% endfor %}

					</div>
			</table>
		</div>
					<span>
						<button class="availShifts">show available</button>
						<button class="allShifts">show all</button>
					</span>
	</div>

	{% if form.errors %}
	<div id="form-error">
		<p>The operation could not be performed because one or more error(s) occurred.<br />Please resubmit the form after making the following changes:</p>
		<ul>
		{% for field in form %}
		<li>{{ field.errors|striptags }}</li>
		{% endfor %}
		</ul>
	</div>
	{% endif %}

</div>

{% endblock %}